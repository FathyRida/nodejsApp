#!/bin/bash

# File containing list of remote paths
LIST_FILE="paths.txt"

# Local destination directory
DEST_DIR="/local/download/folder"

# Check if list file exists
if [ ! -f "$LIST_FILE" ]; then
  echo "File $LIST_FILE not found!"
  exit 1
fi

# Create destination directory if not exists
mkdir -p "$DEST_DIR"

# Read file line by line
while IFS= read -r REMOTE_PATH
do
  # Skip empty lines
  [ -z "$REMOTE_PATH" ] && continue

  echo "Downloading: $REMOTE_PATH"
  
  rclone copy "$REMOTE_PATH" "$DEST_DIR" --progress
  
  if [ $? -eq 0 ]; then
    echo "Success: $REMOTE_PATH"
  else
    echo "Failed: $REMOTE_PATH"
  fi

done < "$LIST_FILE"

echo "All downloads completed."